<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.baseleap.mapper.PostImageMapper">
    <insert id="insert" parameterType="map">
        insert into postimage (image1,image2, image3, postid) values
        <choose>
            <when test="urls.size() == 1">
                (#{urls[0]}, null, null, #{postId})
            </when>
            <when test="urls.size() == 2">
                (#{urls[0]}, #{urls[1]}, null, #{postId})
            </when>
            <when test="urls.size() == 3">
                (#{urls[0]}, #{urls[1]}, #{urls[2]}, #{postId})
            </when>
        </choose>
    </insert>
</mapper>